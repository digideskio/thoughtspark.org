<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
        
    <title>ThoughtSpark.org - Creating a Working SteamOS Installer on a Mac</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interesting stuff from the eyes of Jeremy Whitlock">
    <meta name="author" content="Jeremy Whitlock <jcscoobyrs@gmail.com>">

    <!-- Stylesheets -->
    <link href="http://thoughtspark.org/css/bootstrap.css" rel="stylesheet">
    <link href="http://thoughtspark.org/css/thoughtspark.org.css" rel="stylesheet">
    <link href="http://thoughtspark.org/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-8129913-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>

    <div id="wrapper">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="http://thoughtspark.org/">ThoughtSpark.org</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li class="">
                  <a href="http://thoughtspark.org/archives/">Archives</a></li>
                <li class="">
                  <a href="http://thoughtspark.org/tags/">Tags Index</a></li>
                <li class="">
                  <a href="http://thoughtspark.org/about-me/">About Me</a></li>
              </ul>
              <form class="navbar-search pull-right" id="cse-search-box" action="http://google.com/cse" target="_blank">
                <input type="hidden" name="cx" value="002070316934860344827:uskwlee9cfw" />
                <input type="hidden" name="ie" value="UTF-8" />
                <input type="text" class="search-query" name="q" placeholder="Search" />
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid" id="content-wrapper">
        <div class="row-fluid">
  <div class="span8 offset2 content" id="content">
    <div class="row-fluid">
      <div class="span12">
        <div class="page-header">
  <h1><a href="http://thoughtspark.org/2014/01/14/creating-a-working-steamos-installer-on-a-mac/">Creating a Working SteamOS Installer on a Mac</a> <small>Posted on 2014/01/14 at 11:30</small></h1>
</div>
<div class="widget-row row-fluid">
  <div class="span9">
    
    <a href="http://thoughtspark.org/tags/mac/" class="tag-link"><span class="label label-info">mac</span></a>
    
    <a href="http://thoughtspark.org/tags/steamos/" class="tag-link"><span class="label label-info">steamos</span></a>
    
    <a href="http://thoughtspark.org/tags/virtualbox/" class="tag-link"><span class="label label-info">virtualbox</span></a>
    
  </div>
  <div class="span3">
    <a href="https://twitter.com/share" class="twitter-share-button"
       data-url="http://thoughtspark.org/2014/01/14/creating-a-working-steamos-installer-on-a-mac/"
       data-text="Creating a Working SteamOS Installer on a Mac"
       
       data-hashtags="mac steamos virtualbox"
       
       data-via="whitlockjc"
       data-count="none"
       data-lang="en">Tweet</a>
    <span class="g-plusone"
         data-size="medium"
         data-annotation="none"
         data-href="http://thoughtspark.org/2014/01/14/creating-a-working-steamos-installer-on-a-mac/"></span>
  </div>
</div>
<div class="article-content">
  <p>Ever since <a href="http://store.steampowered.com/livingroom/SteamOS/">SteamOS</a> released, I&rsquo;ve been trying to get it installed into <a href="https://www.virtualbox.org/">VirtualBox</a>.  When I
first started this process, I found the same <a href="http://steamcommunity.com/sharedfiles/filedetails/?id=204085700">SteamOS Basic Guide Installation on VirtualBox</a>
everyone else was using, or copying, and began trying to make this happen.  Since VirtualBox abstracts all the
hardware, I figured the installation process would be identical regardless of my operating system.  For the most part,
that is right.  Other than the creation of the ISO file, the installation process is identical regardless of your
operating system.  Unfortunately, this is where things go wrong for Mac users as there was no solid documentation on
how to create the ISO on Mac OS X.</p>

<p>Mac OS X includes utilities out of the box for things like this.  My assumption, like many others based on the
suggestions I found, was that I could use these tools to create an ISO from the provided zip file.  Even better news
was that the suggestions I were finding aligned with my assumption.  Based on my research, all of the suggestions on
the matter included one of the following approaches:</p>

<h4>Disk Utility UI</h4>

<ul>
<li>Open Disk Utility</li>
<li><em>New &gt; Disk Image From Folder&hellip;</em></li>
<li>Select the folder you extracted the SteamOSInstaller.zip to</li>
<li>Choose the hybrid-image <em>Image Format</em></li>
</ul>

<h4>Disk Utility CLI</h4>

<ul>
<li>Execute <code>hdiutil makehybrid -o PATH_TO_ISO PATH_TO_FOLDER -iso -joliet</code> from a terminal</li>
</ul>

<p>Both of these worked at face value, an ISO was created from the zip file.  But unfortunately, whenever you tried to
follow the installation guide and use the ISO, you were very quickly faced with the following error message:
<code>error: &quot;prefix&quot; is not set</code>.  There was no recovery from this.  You could wait forever and VirtualBox would show
you the same screen.  Heck, I even tried booting into the EFI shell and loading the ISO manually to see if I could
somehow work around the situation.</p>

<p>Originally I had given up, I didn&rsquo;t want to waste anymore time on it and no one seemed to have an answer.  And then
today, for some odd reason, I tried it again, some weeks later since my original attempts.  I had hoped there was a
bug in the early release and that it had been fixed by now.  I rebuilt my ISO and tried again but to no avail, I got to
the same place with the same results.  Frustrated, I googled and came across the same posts.  It seems nothing has
changed.</p>

<p>I asked myself: <em>What is the difference between my attempt and the documented working attempts?</em>  That&rsquo;s when it
occurred to me that maybe the ISO being created using the options above didn&rsquo;t create a proper ISO.  Seems logical
since that is the only deviation I&rsquo;ve made from the documentation.  So I went on the hunt for an installation guide
that used a tool to create the ISO that I could get installed on my Mac and that&rsquo;s when I found that <a href="http://www.gnu.org/software/xorriso/">xorriso</a>
was available via <a href="http://brew.sh/">Homebrew</a>.  After installing it, I was able to use the following command to create a
working SteamOS Installer ISO that works flawlessly via VirtualBox:</p>
<pre class="highlight text">xorriso -as mkisofs -r -checksum_algorithm_iso md5,sha1 -V &#39;Steam OS&#39; \
-o ../SteamOSInstaller.iso -J -joliet-long -cache-inodes -no-emul-boot \
-boot-load-size 4 -boot-info-table -eltorito-alt-boot --efi-boot boot/grub/efi.img \
-append_partition 2 0x01 boot/grub/efi.img \
-partition_offset 16 .
</pre>
<p><strong>Note:</strong> The assumption here is that if you were to extract the zip file to a folder, you&rsquo;d run this command while
within the folder, otherwise you&rsquo;ll need to alter the paths accordingly.  Also, feel free to change the <code>-o</code> option to
change the name and location of the created ISO file.</p>

<p>That pretty much wraps things up.  I&rsquo;m excited to play around with SteamOS and while it was a pain to get started, due
to the dreaded <code>error: &quot;prefix&quot; is not set</code>, I&rsquo;ve finally been able to get past this using the information above.  I
hope this information helps you other Mac users avoid the pain I originally did.</p>

</div>
      </div>
    </div>
  </div>
</div><div class="row-fluid">
  <div class="span8 offset2 content" id="content">
    <div class="row-fluid">
      <div class="span12">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'thoughtsparkorg'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>
  </div>
</div>
      </div>
    </div>

    <div id="push"></div>

    <div id="footer">
      <div class="container-fluid">
        <p>Â© Jeremy Whitlock 2015 | Brought to you by <a href="http://pages.github.com/">GitHub Pages</a>,
          <a href="http://middlemanapp.com/">Middleman</a> and
          <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>. |
          <a href="https://github.com/whitlockjc/thoughtspark.org">Site Sources</a>
        </p>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="http://thoughtspark.org/js/jquery.js"></script>
    <script src="http://thoughtspark.org/js/bootstrap.js"></script>
    <script src="http://thoughtspark.org/js/thoughtspark.org.js"></script>
  </body>
</html>
